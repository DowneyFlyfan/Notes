---
id: LOP
aliases: []
tags: []
---

* 对于每一个输入 $x_t$，执行 ：
    * **前向传播**: 将 $x_t$ 输入网络，得到预测值 $\hat{y}_t$ 。
    * **评估**: 计算损失 $l(x_t, \hat{y}_t)$ 。
    * **反向传播**: 使用随机梯度下降（SGD）或其变体更新权重 。
    * 对于网络中的每一层 $l$ (从 1 到 L-1) ：
        * 更新年龄: $a_l = a_l + 1$ 。
        * 更新单元效用: 根据公式 (1) 计算 。
        * 寻找合格单元: $n_{eligible}$ = 年龄大于 $m$ 的单元数量 。
        * 更新待替换单元计数器: $c_l = c_l + n_{eligible} \times p$ 。
        * 如果 $c_l > 1$ ：
            * 找到效用值最小的单元，并记录其索引为 $r$ 。
            * 重新初始化输入权重: 从分布 $d$ 中重新采样 $W_{l-1}[:,r]$ 。
            * 重新初始化输出权重: 将 $w_l[r,:]$ 设置为 0 。
            * 重新初始化效用和年龄: 设置 $u_l[r]=0$ 且 $a_l[r]=0$ 。
            * 更新待替换单元计数器: $c_l = c_l - 1$ 。
        * (结束 If)
    * (结束内层 For 循环)
* (结束外层 For 循环)
